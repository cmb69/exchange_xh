<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Exchange_XH – Benutzerhandbuch</title>
  <style type="text/css">
    body {
        font-family: Georgia, serif;
        line-height: 1.5;
        margin-left: auto;
        margin-right: auto;
        padding-left: 0.5em;
        padding-right: 0.5em;
        background: #ffffe1;
        max-width: 32em;
    }
    p {
        text-align: justify;
    }
    pre {
        color: black;
        background: #ffe;
        overflow: auto;
        padding: 0.2em 0.5em;
        border: 1px solid silver;
    }
  </style>
</head>
<body>
<h1 id="exchange_xh">Exchange_XH</h1>
<p>Exchange_XH ermöglicht den Export und Import der Inhalte einer CMSimple_XH Website nach beziehungsweise von XML. Dies kann nützlich für die Migration zu und von anderen Content-Management-Systemen sein. Weiterhin unterstützt das Plugin den Import von CMSimple_XH 1.6.x Inhalten in CMSimple_XH ≥ 1.7.0.</p>
<ul>
<li><a href="#voraussetzungen">Voraussetzungen</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#einstellungen">Einstellungen</a></li>
<li><a href="#verwendung">Verwendung</a>
<ul>
<li><a href="#import-von-alten-cmsimple_xh-inhalten">Import von alten CMSimple_XH Inhalten</a></li>
<li><a href="#für-entwickler">Für Entwickler</a></li>
</ul></li>
<li><a href="#einschränkungen">Einschränkungen</a></li>
<li><a href="#problembehebung">Problembehebung</a></li>
<li><a href="#lizenz">Lizenz</a></li>
<li><a href="#danksagung">Danksagung</a></li>
</ul>
<h2 id="voraussetzungen">Voraussetzungen</h2>
<p>Exchange_XH ist ein Plugin für <a href="https://cmsimple-xh.org/de/">CMSimple_XH</a>. Es benötigt CMSimple_XH ≥ 1.7.0 und PHP ≥ 7.1.0 mit der DOM Extension. Exchange_XH benötigt weiterhin <a href="https://github.com/cmb69/plib_xh">Plib_XH</a> ≥ 1.8; ist dieses noch nicht installiert (siehe <code>Einstellungen</code> → <code>Info</code>), laden Sie das <a href="https://github.com/cmb69/plib_xh/releases/latest">aktuelle Release</a> herunter, und installieren Sie es.</p>
<h2 id="download">Download</h2>
<p>Das <a href="https://github.com/cmb69/exchange_xh/releases/latest">aktuelle Release</a> kann von Github herunter geladen werden.</p>
<h2 id="installation">Installation</h2>
<p>Die Installation erfolgt wie bei vielen anderen CMSimple_XH-Plugins auch.</p>
<ol type="1">
<li>Sichern Sie die Daten auf Ihrem Server.</li>
<li>Entpacken Sie die ZIP-Datei auf Ihrem Computer.</li>
<li>Laden Sie den gesamten Ordner <code>exchange/</code> auf Ihren Server in den <code>plugins/</code> Ordner von CMSimple_XH hoch.</li>
<li>Vergeben Sie Schreibrechte für die Unterordner <code>css/</code> und <code>languages/</code>.</li>
<li>Browsen Sie zu <code>Plugins</code> → <code>Exchange</code> im Backend der Website, und prüfen Sie, ob alle Voraussetzungen für den Betrieb erfüllt sind.</li>
</ol>
<h2 id="einstellungen">Einstellungen</h2>
<p>Die Konfiguration des Plugins erfolgt wie bei vielen anderen CMSimple_XH Plugins auch im Backend der Website. Browsen Sie zu <code>Plugins</code> → <code>Exchange</code>.</p>
<!-- Sie können die Original-Einstellungen von Exchange_XH unter
    `Konfiguration` ändern. Beim Überfahren der Hilfe-Icons mit der Maus
    werden Hinweise zu den Einstellungen angezeigt. -->
<p>Die Lokalisierung wird unter <code>Sprache</code> vorgenommen. Sie können die Zeichenketten in Ihre eigene Sprache übersetzen, falls keine entsprechende Sprachdatei zur Verfügung steht, oder sie entsprechend Ihren Anforderungen anpassen.</p>
<p>Das Aussehen von Exchange_XH kann unter <code>Stylesheet</code> angepasst werden.</p>
<h2 id="verwendung">Verwendung</h2>
<p>Sie können den Inhalt der aktuellen Sprache in der Hauptadministration des Plugins (<code>Plugins</code> → <code>Import/Export</code>) exportieren und importieren Nach erfolgreichem Export befindet sich die Datei <code>content.xml</code> im <code>content/</code> Ordner der aktuellen Sprache, gleich neben der <code>content.htm</code> Datei, aus der exportiert wurde. Um fremde Inhalte zu importieren, müssen Sie eine Datei <code>content.xml</code> gleich neben diejenige <code>content.htm</code> Datei platzieren, die Sie durch den Import <em>überschreiben</em> lassen möchten (also legen Sie zuvor ein Backup an).</p>
<details>
<p><summary>content.xml Schema-Definition</summary></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">&lt;?xml</span> version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;<span class="kw">?&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">&lt;grammar</span><span class="ot"> xmlns=</span><span class="st">&quot;http://relaxng.org/ns/structure/1.0&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="kw">&lt;start&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>    <span class="kw">&lt;ref</span><span class="ot"> name=</span><span class="st">&quot;Contents&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="kw">&lt;/start&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a>  <span class="kw">&lt;define</span><span class="ot"> name=</span><span class="st">&quot;Contents&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>    <span class="kw">&lt;element</span><span class="ot"> name=</span><span class="st">&quot;contents&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>      <span class="kw">&lt;attribute</span><span class="ot"> name=</span><span class="st">&quot;version&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>      <span class="kw">&lt;zeroOrMore&gt;</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>        <span class="kw">&lt;ref</span><span class="ot"> name=</span><span class="st">&quot;Page&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>      <span class="kw">&lt;/zeroOrMore&gt;</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>    <span class="kw">&lt;/element&gt;</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>  <span class="kw">&lt;/define&gt;</span></span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a>  <span class="kw">&lt;define</span><span class="ot"> name=</span><span class="st">&quot;Page&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>    <span class="kw">&lt;element</span><span class="ot"> name=</span><span class="st">&quot;page&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-18"><a href="#cb1-18"></a>      <span class="kw">&lt;attribute</span><span class="ot"> name=</span><span class="st">&quot;title&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb1-19"><a href="#cb1-19"></a>      <span class="kw">&lt;element</span><span class="ot"> name=</span><span class="st">&quot;data&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-20"><a href="#cb1-20"></a>        <span class="kw">&lt;zeroOrMore&gt;</span></span>
<span id="cb1-21"><a href="#cb1-21"></a>          <span class="kw">&lt;attribute&gt;</span></span>
<span id="cb1-22"><a href="#cb1-22"></a>            <span class="kw">&lt;anyName/&gt;</span></span>
<span id="cb1-23"><a href="#cb1-23"></a>            <span class="kw">&lt;text/&gt;</span></span>
<span id="cb1-24"><a href="#cb1-24"></a>          <span class="kw">&lt;/attribute&gt;</span></span>
<span id="cb1-25"><a href="#cb1-25"></a>        <span class="kw">&lt;/zeroOrMore&gt;</span></span>
<span id="cb1-26"><a href="#cb1-26"></a>      <span class="kw">&lt;/element&gt;</span></span>
<span id="cb1-27"><a href="#cb1-27"></a>      <span class="kw">&lt;element</span><span class="ot"> name=</span><span class="st">&quot;content&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-28"><a href="#cb1-28"></a>        <span class="kw">&lt;text/&gt;</span></span>
<span id="cb1-29"><a href="#cb1-29"></a>      <span class="kw">&lt;/element&gt;</span></span>
<span id="cb1-30"><a href="#cb1-30"></a>      <span class="kw">&lt;zeroOrMore&gt;</span></span>
<span id="cb1-31"><a href="#cb1-31"></a>        <span class="kw">&lt;ref</span><span class="ot"> name=</span><span class="st">&quot;Page&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb1-32"><a href="#cb1-32"></a>      <span class="kw">&lt;/zeroOrMore&gt;</span></span>
<span id="cb1-33"><a href="#cb1-33"></a>    <span class="kw">&lt;/element&gt;</span></span>
<span id="cb1-34"><a href="#cb1-34"></a>  <span class="kw">&lt;/define&gt;</span></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="kw">&lt;/grammar&gt;</span></span></code></pre></div>
</details>
<p>Bei mehrsprachigen Websites muss der Inhalt jeder Sprache separat importiert und exportiert werden.</p>
<p>Es ist zu beachten, dass der Import/Export von oder in andere Content-Management-Systeme nicht direkt möglich ist. Das XML-Format ist nur ein hilfreicher Zwischenschritt, aber es ist gewiss nötig, eine Transformation von oder zu den tatsächlichen Export/Import-Formaten des anderen Content-Management-Systems durchzuführen. Wie das genau erfolgt hängt offensichtlich vom jeweiligen Content-Management-System ab, und die Details gehen über den Rahmen dieser Dokumentation hinaus. Benötigen Sie Hilfe dabei, siehe <a href="#problembehebung">Problembehebung</a>.</p>
<h3 id="import-von-alten-cmsimple_xh-inhalten">Import von alten CMSimple_XH Inhalten</h3>
<p>Um Inhalte von CMSimple_XH 1.6.x zu importieren, muss die alte <code>content.htm</code> in <code>content.1.6.htm</code> umbenannt, und im <code>content/</code> Ordner der neuen CMSimple_XH Installation abgelegt werden. Unter <code>Plugins</code> → <code>Import/Export</code> kann dann im <code>Import von CMSimple_XH 1.6 Inhalten</code> Abschnitt der <code>Import</code> angestoßen werden. Für mehrsprachige Websites muss dies für jede Sprach durchgeführt werden.</p>
<h3 id="für-entwickler">Für Entwickler</h3>
<p>Exchange_XH stellt eine API zur Verfügung, mit der Seiten an eine bestehende CMSimple_XH Installation direkt angefügt werden können, d.h. ohne dass der Webmaster einen Satz exportierter Seiten importieren muss. Diese API ist allerdings etwas experimentell, und könnte sich in Zukunft ändern. Anstatt einer ausführlichen Erklärung folgt ein einfaches Beispiel, das zeigt, wie eine Seite mit einer versteckten Unterseite angefügt werden kann:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode php"><code class="sourceCode php"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">$store</span> = <span class="kw">new</span> \Plib\DocumentStore<span class="ot">(</span><span class="kw">$pth</span><span class="ot">[</span><span class="st">&quot;folder&quot;</span><span class="ot">][</span><span class="st">&quot;content&quot;</span><span class="ot">]);</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">$contents</span> = \Exchange\Model\Contents::update<span class="ot">(</span><span class="st">&quot;htm&quot;</span><span class="ot">,</span> <span class="kw">$store</span><span class="ot">);</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="kw">$page</span> = <span class="kw">$contents</span>-&gt;appendPage<span class="ot">(</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>    <span class="st">&quot;Neue Seite&quot;</span><span class="ot">,</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>    <span class="ot">[],</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="st">&quot;&lt;h1&gt;Neue Seite&lt;/h1&gt;&lt;p&gt;lorem ipsum&lt;/p&gt;&quot;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="ot">);</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="kw">$page</span>-&gt;appendChild<span class="ot">(</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="st">&quot;Neue versteckte Seite&quot;</span><span class="ot">,</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="ot">[</span><span class="st">&quot;linked_to_menu&quot;</span> =&gt; <span class="st">&quot;0&quot;</span><span class="ot">],</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="st">&quot;&lt;h1Neue versteckte Seite&lt;/h1&gt;&lt;p&gt;lorem ipsum&lt;/p&gt;&quot;</span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="ot">);</span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="kw">if</span> <span class="ot">(</span>!<span class="kw">$store</span>-&gt;commit<span class="ot">())</span> {</span>
<span id="cb2-14"><a href="#cb2-14"></a>    <span class="co">// something went wrong</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>}</span></code></pre></div>
<p>Ist alles gut gegangen, dann gibt es nun eine neue Toplevel-Seite <code>Neue Seite</code>, die an die Liste der Toplevel-Seiten angefügt wurde. Der Webmaster kann diese Seite nun leicht woanders hin verschieben, indem er den Pagemanager nutzt.</p>
<h2 id="einschränkungen">Einschränkungen</h2>
<p>Beim Import von alten CMSimple_XH 1.6.x Inhalten werden nur die grundsätzlichen Änderungen vorgenommen, aber die HTML-Headings werden nicht geändert. Es ist empfehlenswert dies nach dem Import manuell vorzunehmen, so dass die Seiten eine ordnungsgemäße HTML-Heading-Struktur aufweisen.</p>
<h2 id="problembehebung">Problembehebung</h2>
<p>Melden Sie Programmfehler und stellen Sie Supportanfragen entweder auf <a href="https://github.com/cmb69/exchange_xh/issues">Github</a> oder im <a href="https://cmsimpleforum.com/">CMSimple_XH Forum</a>.</p>
<h2 id="lizenz">Lizenz</h2>
<p>Exchange_XH ist freie Software. Sie können es unter den Bedingungen der GNU General Public License, wie von der Free Software Foundation veröffentlicht, weitergeben und/oder modifizieren, entweder gemäß Version 3 der Lizenz oder (nach Ihrer Option) jeder späteren Version.</p>
<p>Die Veröffentlichung von Exchange_XH erfolgt in der Hoffnung, daß es Ihnen von Nutzen sein wird, aber <em>ohne irgendeine Garantie</em>, sogar ohne die implizite Garantie der <em>Marktreife</em> oder der <em>Verwendbarkeit für einen bestimmten Zweck</em>. Details finden Sie in der GNU General Public License.</p>
<p>Sie sollten ein Exemplar der GNU General Public License zusammen mit Exchange_XH erhalten haben. Falls nicht, siehe <a href="https://www.gnu.org/licenses/" class="uri">https://www.gnu.org/licenses/</a>.</p>
<p>Copyright © Christoph M. Becker</p>
<p>Französische Übersetzung © 2017 Patrick Varlet</p>
<h2 id="danksagung">Danksagung</h2>
<p>Das Pluginlogo wurde von Dellustrations gestaltet. Vielen Dank für die Veröffentlichung dieses Icons als Freeware.</p>
<p>Vielen Dank an die Community im <a href="https://www.cmsimpleforum.com/">CMSimple_XH-Forum</a> für Tipps, Vorschläge und das Testen.</p>
<p>Und zu guter Letzt vielen Dank an <a href="https://www.harteg.dk/">Peter Harteg</a>, den „Vater“ von CMSimple, und alle Entwickler von <a href="https://www.cmsimple-xh.org/de/">CMSimple_XH</a>, ohne die dieses phantastische CMS nicht existieren würde.</p>
</body>
</html>
